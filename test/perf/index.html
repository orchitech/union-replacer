<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Union Replacer Performance Tests</title>
  <style>
    body {
      font-family: Calibri, Verdana, Sans-serif;
      padding: 30px;
      margin: 0;
    }
    applet {
      position: absolute;
      left: -9999px;
    }
  </style>
</head>
<body>
  <div id="log"></div>

  <script src="../../node_modules/lodash/lodash.js"></script>
  <script src="../../node_modules/platform/platform.js"></script>
  <script src="../../node_modules/benchmark/benchmark.js"></script>
  <script src="../../dist/union-replacer.umd.js"></script>
  <script src="perf.js"></script>

  <script>
    // Load an applet for higher-precision timing if needed and not manually disabled.
    // Adapted from Lo-Dash <http://lodash.com/> performance tests.
    (function() {
      if (/[?&]nojava=true(?:&|$)/.test(location.search)) {
        return;
      }
      var perf = window.performance,
        begin = new Date,
        measured;
      // Check whether the applet is needed
      while (!(measured = new Date - begin)) {
        // No-op
      }
      if (measured !== 1 && !(perf && (perf.now || perf.webkitNow))) {
        document.write('<applet code="nano" archive="../vendor/benchmark.js/nano.jar"></applet>');
      }
    }());

    // Global run function provided by perf script
    onload = run;
  </script>
</body>
</html>
